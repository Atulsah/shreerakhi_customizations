{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-10-13 12:13:46.305710",
 "css": "",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "\n{% set child_table_data = doc.items %}\n\n{% set result_list = [] %}\n\n{% for row in child_table_data %}\n    {% set row_dict = {\n        'item_name': row.item_name,\n        'barcode' : row.barcode,\n        'description': row.description,\n        'gst_hsn_code': row.gst_hsn_code,\n        'qty': row.qty,\n        'uom': row.uom,\n        'curr': doc.price_list_currency,\n        'rate': row.rate,\n        'item_tax_rate': row.item_tax_template,\n        'taxable_value': row.taxable_value,\n        'amount': row.amount\n    } %}\n    {% set _ = result_list.append(row_dict) %}\n{% endfor %}\n\n\n\n{% set sorted_result_list = result_list | sort(attribute='item_code') %}\n\n{% for row in sorted_result_list %}\n    {% set _ = row.update({'idx': loop.index}) %}\n{% endfor %}\n\n<style>\n@media print {\n  @page {\n    size: A4;\n    margin: 10mm 8mm 10mm 8mm !important;\n  }\n  body {\n    font-family: \"Arial\", sans-serif;\n    font-size: 9.5px;\n    -webkit-print-color-adjust: exact !important;\n    color-adjust: exact !important;\n    line-height: 1.2;\n  }\n  table {\n    border-collapse: collapse;\n    width: 100%;\n    table-layout: fixed;\n    word-wrap: break-word;\n  }\n  th, td {\n    padding: 2px 3px;\n    word-break: break-word;\n    vertical-align: top;\n  }\n  img {\n    max-width: 100%;\n  }\n  .content-01, .content-02 {\n    page-break-inside: avoid;\n  }\n}\n\n/* for PDF generation consistency */\ntable {\n  border-collapse: collapse !important;\n  width: 100% !important;\n  table-layout: fixed !important;\n  word-wrap: break-word !important;\n}\nth, td {\n  font-size: 9px !important;\n  word-break: break-word !important;\n  white-space: normal !important;\n  line-height: 1.2 !important;\n  padding: 2px 4px !important;\n}\n.content-01 {\n  font-size: 9.5px !important;\n}\n</style>\n\n<div style=\"font-size:10px;\" class=\"content-01\">\n    <table border=\"1\" style=\"border-top: 8px inset black; border-bottom: 8px outset black; border-left: none; border-right: none;\" width=\"100%\">\n        <tbody>\n            <tr>\n                <!--<td style=\"border-right: 2px solid grey;\" width=\"30%\"><div style=\"padding-top: 10px; padding-left: 20px;\"><img alt=\"logo\" height=\"\" src=\"/files/1519915234882.jpg\" style=\"height: 80px; width: 140px; filter: grayscale(100%);\"></div></td>-->\n                <td style=\"border-right: 2px solid grey;\" width=\"20%\"><div style=\"padding-top: 5px; padding-left: 10px;\"><img alt=\"logo\" height=\"\" src=\"/files/1519915234882.jpg\" style=\"height: 130px; width: 130px;\"></div></td>\n                <td style=\"border-right: 2px; border-bottom: 1px solid #cdd0d4;\" width=\"50%\">\n                    <div style=\"display: inline;\">\n                        <br>\n                        <div style=\"display: flex; align-items: center; font-family: cursive; font-size: 16px; font-weight: bold; gap: 10px;\">\n                            <img alt=\"name1\" src=\"/files/Name.png\" style=\"height: 25px; width: auto; padding-left: 50px; filter: grayscale(100%);\">\n                            <u>Rakhi Pvt. Ltd.</u>\n                        </div>\n                            <p style=\"padding-left: 50px; font-size: 10px;\">P- 31A Kalakar Street, 3rd Floor, Kolkata - 700007 <br>Phone 2270 1893/94, M.9331150473 <br>WAREHOUSE : 89/1, Salkia School Road, Howrah-711106 <br>Phone : 2665-4107 E-mail : shreerakhi@gmail.com <br>GSTIN : 19AAECM5102C1ZY CIN NO - U74999WB2005PTC104002</p>\n                        </div>\n                </td>\n                <td style=\"border-left: 0px; padding-right: 20px; border-bottom: 1px solid #cdd0d4; font-size: 20px; text-align:right;\" width=\"30%\">\n                    <br><br><br><br><br><br>\n                    {%- if doc.is_return -%}\n                        <b>Credit Note</b>\n                    {%- else -%}\n                        {%- if doc.meta.is_submittable and doc.docstatus==0-%}\n                            <b>Proforma Invoice</b>\n                        {%- else -%}\n                             {%- if doc.irn -%}\n                                <b>Tax Invoice</b>\n                            {%- else -%}\n                                <b>Bill of Supply</b>\n                            {%- endif -%}\n                            {%- if doc.docstatus==2 -%}\n                                <br><b>Cancelled</b>\n                            {%- endif -%}\n                        {%- endif -%}\n                    {%- endif -%}\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n    \n    <table width=\"100%\" class=\"table table-bordered\">\n        <tr>\n            <th style=\"border-right: 0px;\" width=\"15%\">\n                Invoice No.<br>\n                Invoice Date<br>\n                Terms<br>\n                Due Date<br>\n                {%- if doc.ewaybill -%} E-Way Bill No {%- endif -%}\n            </th>\n            <td style=\"border-left: 0px;\" width=\"35%\">\n                {{doc.name}}<br>\n                {{doc.get_formatted('posting_date')}}<br>\n                {{doc.payment_terms_template}}<br>\n                {{doc.get_formatted('due_date')}}<br>\n                {%- if doc.ewaybill -%} {{doc.ewaybill}} {%- endif -%}\n            </td>\n            <th style=\"border-right: 0px;\" width=\"25%\">\n                Place of Supply <br>\n                {%- if doc.po_no -%}P.O. No <br>{%- endif -%}\n                {%- if doc.po_no -%}P.O. Date <br>{%- endif -%}\n                {%- if not doc.irn -%} Product Description <br>{%- endif -%}\n                Transporter\n            </th>\n            <td style=\"border-left: 0px;\" width=\"25%\">\n                {{doc.place_of_supply}}<br>\n                {%- if doc.po_no -%}{{doc.po_no}}<br>{%- endif -%}\n                {%- if doc.po_no -%}{{doc.get_formatted('po_date')}}<br>{%- endif -%}\n                {%- if not doc.irn -%} <b>RAKHI - EXEMPTED</b><br> {%- endif -%}\n                {{ doc.custom_bos_transporter }}\n            </td>\n        </tr>\n        <tr><td colspan=\"4\" align=\"right\"> Page No. 1 </td></tr>\n    </table>\n    <table width=\"100%\" class=\"table table-bordered\" style=\"margin-top:-20px\">\n        <tr>\n            <th width=\"50%\" bgcolor=\"Lavender\">Bill To</th>\n            <th width=\"50%\" bgcolor=\"Lavender\">Ship To</th>\n        </tr>\n        <tr>\n            <td width=\"50%\">{{doc.customer_name}}<br>{{ doc.address_display }}<br>GSTIN : {{ doc.billing_address_gstin }} {%- if contact_mobile -%} <br> Phone No. : {{ doc.contact_mobile }} <br> {%- endif -%}</td>\n            {% if doc.shipping_address_name and doc.shipping_address %}\n                <td width=\"50%\">{{doc.custom_shipping_address_title}}<br>{{ doc.shipping_address }}<br></td>\n            {% else %}\n                <td width=\"50%\">{{doc.customer_name}}<br>{{ doc.address_display }}{%- if doc.billing_address_gstin -%}<br>GSTIN : {{ doc.billing_address_gstin }}{%- endif -%} {%- if contact_mobile -%} <br> Phone No. : {{ doc.contact_mobile }} <br> {%- endif -%}</td>\n            {% endif %}\n        </tr>\n    </table>\n    <table width=\"100%\" class=\"table table-bordered\" border=\"1\" style=\"margin-top:-21px\">\n        <tr>\n\t\t\t<th width=\"4%\"  rowspan=\"2\" align=\"center\">#</th>\n\t\t\t<th width=\"33%\" rowspan=\"2\" align=\"left\">Item & Description</th>\n\t\t\t<th width=\"10%\" rowspan=\"2\" align=\"center\">HSN/SAC</th>\n\t\t\t<th width=\"10%\" rowspan=\"2\" align=\"center\">Quantity</th>\n\t\t\t<th width=\"8%\" rowspan=\"2\" align=\"center\"><center>Rate</center></th>\n\t\t\t<th width=\"19%\" colspan=\"2\" align=\"center\"><center>GST</center></th>\n\t\t\t<th width=\"16%\" rowspan=\"2\" align=\"center\"><center>Amount</center></th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<th width=\"8%\" align=\"center\"><center>%</center></th>\n\t\t\t<th width=\"11%\" align=\"center\"><center>Amount</center></th>\n\t\t</tr>\n\t\t{% set vars = {'total_box':0.0, 'total_amount': 0.0, 'last_idx':0} %}\n        {% set item_len = sorted_result_list|length %}\n        {% for item in sorted_result_list %}\n            {% if item['idx'] <= 10 %}\n        \t\t<tr>\n                    <td width=\"4%\" align=\"center\">\n                        {{ item['idx'] }} &nbsp;\n                    </td>\n                    <td width=\"33%\" align=\"left\">\n                        {{ item['item_name'] }} <br> {{ item['description'] }}</td>\n                    <td width=\"10%\" align=\"center\">{{ item['gst_hsn_code'] }}</td>\n                    <td width=\"10%\" align=\"right\">{{ item['qty']|int }} &nbsp; {{ item['uom'] }}</td>\n                    <td width=\"10%\" align=\"right\"> {{ frappe.format_value(item['rate'], {'fieldtype': 'Currency', 'options': 'INR'}, doc)}}</td>\n                    {% if item['item_tax_rate'] %}\n                        {% set list1 = item['item_tax_rate'].split(' ') %}\n                        {% set temp = list1[1] %}\n                        {% set rate = temp[:-1]|float %}\n                        <td width=\"8%\" align=\"right\">{{ rate }} % </td>\n                        {% set taxed_amt = item['taxable_value'] * (rate/100) %}\n                        <td width=\"11%\" align=\"right\">{{ frappe.format_value(taxed_amt, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }} </td>\n                        <td width=\"16%\" align=\"right\">{{ frappe.format_value(item['amount'], {'fieldtype': 'Currency', 'options': 'INR'}, doc) }} </td>\n                    {% else %}\n                        <td width=\"8%\" align=\"right\"> 0 % </td>\n                        <td width=\"11%\" align=\"right\">{{ frappe.format_value(item['taxable_value'], {'fieldtype': 'Currency', 'options': 'INR'}, doc) }} </td>\n                        <td width=\"16%\" align=\"right\">{{ frappe.format_value(item['amount'], {'fieldtype': 'Currency', 'options': 'INR'}, doc) }} </td>\n                    {% endif %}\n                    {% set vars = vars.update({'total_box': vars.total_box + item['qty']|int, 'total_amount': vars.total_amount + item['amount']|float,\n                    'last_idx': vars.last_idx + 1}) %}\n                </tr>\n            {%- endif -%}\n        {%- endfor -%}\n        \n        {% if item_len > 10 %}\n        <tr>\n            <td colspan=\"8\"><br></td>\n        </tr>\n        <tr>\n            <td></td>\n            <td></td>\n            <td></td>\n            <td align=\"right\" style=\"font-weight:bold;\">{{ vars.total_box|int }}</td>\n            <td align=\"right\"></td>\n            <td align=\"center\"></td>\n            <td align=\"right\"></td>\n            <td align=\"right\" style=\"font-weight:bold;\">{{ frappe.format_value(vars.total_amount, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }} </td>\n        </tr>\n        {% endif %}\n        \n        {% if vars.last_idx == item_len  %}\n            <tr>\n                <td colspan=\"8\"><br></td>\n            </tr>\n            <tr>\n                <td colspan = \"3\" style=\"border-right:0;\" align=\"left\"><b><i>AMOUNT</i></b></td>\n                <td style=\"border-left:0;\" align=\"right\"><b>{{ vars.total_box|int }}</b></td>\n                <td colspan=\"3\"></td>\n                <td align=\"right\"><b>{{ frappe.format_value(vars.total_amount, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }}</b></td>\n            </tr>\n            {% if doc.discount_amount > 0 %}\n                <tr>\n                    <td colspan=\"6\">DISCOUNT (Less : )</td>\n                    <td align=\"right\">{{ \"%0.2f\" | format( doc.additional_discount_percentage|float) }}%</td>\n                    <td align=\"right\">{{ frappe.format_value(doc.discount_amount, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }}</td>\n                </tr>\n            {% endif %}\n            {% for row in doc.taxes %}\n                <tr>\n                    {% if row.description != 'Freight and Forwarding Charges' %}\n                        <td colspan=\"7\">{{ row.description }}</td>\n                      <!--  <td align=\"right\">{{ \"%0.2f\" | format(row.rate|float) }} %</td> -->\n                        <td align=\"right\">{{ frappe.format_value(row.tax_amount, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }} </td>\n                    {% else %}\n                        <td colspan=\"3\" style=\"border-right:0;\">{{ row.description }}</td>\n                        <td colspan=\"2\" style=\"border-left:0; border-right-color:transparent;\">No. of cases</td>\n                        <td align=\"right\" style=\"border-left:0;\">{{ \"%0.2f\" | format(doc.custom_number_of_carton|float) }}</td>\n                        <td align=\"right\">{{ frappe.format_value(doc.custom_rate_per_carton, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }} </td>\n                        <td align=\"right\">{{ frappe.format_value(row.tax_amount, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }} </td>\n                    {% endif %}\n                </tr>\n            {% endfor %}\n            \n            <tr>\n                <td colspan=\"7\" style=\"font-weight:bold\"><i>ROUNDING ADJUSTMENT</i></td>\n                <td align=\"right\"><b>{{ frappe.format_value(doc.rounding_adjustment, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }}</b></td>\n            </tr>\n            \n            <tr>\n                <td colspan=\"7\" style=\"font-weight:bold\"><i>TOTAL AMOUNT</i></td>\n                <td align=\"right\"><b>{{ frappe.format_value(doc.rounded_total, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }}</b></td>\n            </tr>\n            <tr>\n                <td colspan=\"8\"><i>Rs. {{ doc.in_words[4:] }}</i></td>\n            </tr>\n            <tr>\n                <td colspan=\"8\" style=\"text-align:right; vertical-align:center\"> \n                    <div style=\"font-family: cursive; font-size: 10px; font-weight: bold;\"><b>For</b><img alt=\"M.D.MOHTA\" src=\"/files/Name.png\" style=\"height: 15px; width: 100px; filter: grayscale(100%)\"><u>Rakhi Pvt. Ltd.</u></div><br>\n                    <div style=\"font-family: cursive; font-size: 10px; font-weight: bold;\"><img alt=\"\" src=\"/files/kks_sig-removebg-preview.png\" style=\"height: 30px; width: 200px; filter: grayscale(100%)\"></div><br>\n                    <b>Director &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b>\n                </td>\n            </tr>\n        </table>\n        <table border=1 width=\"100%\" class=\"table table-bordered\" style=\"margin-top:-21px\">\n            <tbody>\n                <tr>\n                    <td><b>Tax Breakup </b>{{ doc.other_charges_calculation }}</td>\n                </tr>\n            </tbody>\n        {% endif %}\n        </table>\n        {% if doc.irn %}\n            <table width=\"100%\" class=\"table table-bordered\" border=\"1\" style=\"margin-top:-21px\">\n                <tr>\n                    <td rowspan=\"3\" width=\"35%\" height=\"150\"><center>\n                        {% if doc.irn %}\n                            {% set e_invoice_log = frappe.db.get_value(\n                             \"e-Invoice Log\", doc.irn, (\"invoice_data\", \"signed_qr_code\"), as_dict=True) %}\n                            {%- set invoice_data = dict(json.loads(e_invoice_log.invoice_data)) -%}\n                            <img src=\"data:image/png;base64,{{ get_qr_code(e_invoice_log.signed_qr_code, scale=2) }}\" class=\"qrcode\" height = 150 width = 150>\n                        {% endif %}\n                        </center>\n                    </td>\n        \t\t\t<th width=\"15%\" height=\"50\" align=\"left\">IRN</th>\n        \t\t\t<td width=\"50%\" height=\"50\" align=\"rleft\">{{ doc.irn }}</td>\n        \t\t</tr>\n        \t\t\n        \t\t{% set e_invoice_log = frappe.db.get_value(\"e-Invoice Log\", doc.irn, (\"invoice_data\"), as_dict=True) %}\n                {%- set invoice_data = _dict(json.loads(e_invoice_log.invoice_data)) -%}\n                {%\n            \t\tset transaction_details = {\n            \t\t\t\"Ack. No\": invoice_data.AckNo,\n            \t\t\t\"Ack. Date\": frappe.utils.format_datetime(\n            \t\t\t\tinvoice_data.AckDt, \"dd/MM/yyyy hh:mm:ss\"\n            \t\t\t),\n            \t\t}\n                %}\n            \t{% for key, value in transaction_details.items() %}\n                    <tr>\n            \t\t\t<th width=\"15%\" height=\"50\" style=\"text-align:left; vertical-align:center\">{{ key }}</td>\n            \t\t\t<td width=\"50%\" height=\"50\" style=\"text-align:left; vertical-align:center\">{{ value }}</td>\n            \t\t</tr>\n            \t{% endfor %}\n            \t\n        \t\t<tr>\n        \t\t\t<th colspan=\"3\"><center>e-Invoicing detail(s) generated from the Goverment's e-Invoicing Sysyem.</center></th>\n        \t\t</tr>\n        \t</table>\n            {% endif %}\n            {% if vars.last_idx == item_len and not doc.irn %}\n            \t<table width=\"100%\" style=\"margin-top:-21px; font-weight:bold\">\n                    <tr>\n                        <td>\n                            <p>Please pay in favour of \"M.D.MOHTA RAKHI PVT.LTD.\" Through either</p>\n                            <p>ICICI Bank Ltd.,Kolkata A/c No 694905600912 IFSC Code ICIC0006949 or</p>\n                            <p>DBS Bank India Limited A/c No 828200135528 IFSC Code DBSS0IN0828</p>\n                            <p>Rakhi is exempted from GST vide Notification No.19/2018 Dated 26/07/18</p>\n                        </td>\n                        <td style=\"text-align:center;\">Authorised Signatory</td>\n                    </tr>\n                    <tr>\n                        <td><p>Amendment No.02/2017 Dated 28/06/2017</p></td>\n                        <td style=\"text-align:center;\">E.& O.E.</td>\n                    </tr>\n                </table>\n            {% endif %}\n        \n        \n    \n    {% if item_len > 10 %}\n        <div style=\"font-size:12px;\" class=\"content-02\">\n            {% set total_page = (item_len - 10)/20 %}\n            {% if total_page|int == total_page|float %}\n            {% set total_page = total_page|int + 0 %}\n            {% else %}\n            {% set total_page = total_page|int + 1 %}\n            {% endif %}\n            {% for i in range(1, total_page|int + 1) %}\n                <table width=\"100%\" class=\"table table-bordered\" style=\"page-break-before: always;\">\n                    <tr>\n                        <td colspan=\"2\" align=\"center\">\n                            {%- if doc.is_return -%}\n                                <b>Credit Note</b>\n                            {%- else -%}\n                                {%- if doc.meta.is_submittable and doc.docstatus==0-%}\n                                    <b>Proforma Invoice</b>\n                                {%- else -%}\n                                    {%- if doc.irn -%}\n                                        <b>Tax Invoice</b>\n                                    {%- else -%}\n                                        <b>Bill of Supply</b>\n                                    {%- endif -%}\n                                    {%- if doc.docstatus==2 -%}\n                                        <br><b>Cancelled</b>\n                                    {%- endif -%}\n                                {%- endif -%}\n                            {%- endif -%}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width=\"50%\">INVOICE NO. : {{doc.name}}&emsp;&emsp;&emsp;&emsp;&emsp;DATE : {{doc.get_formatted('posting_date')}}</td>\n                        <td width=\"50%\"><b>State Code & Name :</b>&emsp;{{doc.place_of_supply}}<div style=\"right:5px; display:inline-block;position:absolute;\">Page No : {{ i + 1 }}</div></td>\n                    </tr>\n                </table>\n                \n                <table width=\"100%\" class=\"table table-bordered\" border=\"1\" style=\"margin-top:-21px\">\n                    <tr>\n            \t\t\t<th width=\"4%\"  rowspan=\"2\" align=\"center\">#</th>\n            \t\t\t<th width=\"33%\" rowspan=\"2\" align=\"left\">Item & Description</th>\n            \t\t\t<th width=\"10%\" rowspan=\"2\" align=\"center\">HSN/SAC</th>\n            \t\t\t<th width=\"10%\" rowspan=\"2\" align=\"center\">Quantity</th>\n            \t\t\t<th width=\"10%\" rowspan=\"2\" align=\"center\"><center>Rate</center></th>\n            \t\t\t<th width=\"19%\" colspan=\"2\" align=\"center\"><center>GST</center></th>\n            \t\t\t<th width=\"16%\" rowspan=\"2\" align=\"center\"><center>Amount</center></th>\n            \t\t</tr>\n            \t\t<tr>\n            \t\t\t<th width=\"8%\" align=\"center\"><center>%</center></th>\n            \t\t\t<th width=\"11%\" align=\"center\"><center>Amount</center></th>\n            \t\t</tr>\n                    <tr>\n                        <td colspan=\"8\"><br></td>\n                    </tr>\n                    \n                    <tr>\n                        <td></td>\n                        <td></td>\n                        <td></td>\n                        <td align=\"right\" style=\"font-weight:bold;\">{{ vars.total_box|int }}</td>\n                        <td align=\"right\"></td>\n                        <td align=\"center\"></td>\n                        <td align=\"right\"></td>\n                        <td align=\"right\" style=\"font-weight:bold;\">{{ frappe.format_value(vars.total_amount, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }}</td>\n                    </tr>\n                    {% set vars1 = {'last_idx_1': vars.last_idx + 20} %}\n                    {% for item in sorted_result_list %}\n                        {% if item['idx'] > vars.last_idx and item['idx'] <= vars1.last_idx_1 %}\n                            <tr>\n                                <td width=\"4%\" align=\"center\">{{ item['idx'] }}</td>\n                                <td width=\"33%\" align=\"left\">{{ item['item_name'] }} <br> {{ item['description'] }}</td>\n                                <td width=\"10%\" align=\"center\">{{ item['gst_hsn_code'] }}</td>\n                                <td width=\"10%\" align=\"right\">{{ item['qty']|int }} &nbsp; {{ item['uom'] }}</td>\n                                <td width=\"10%\" align=\"right\">{{ frappe.format_value(item['rate'], {'fieldtype': 'Currency', 'options': 'INR'}, doc) }} </td>\n                                {% if item['item_tax_rate'] %}\n                                    {% set list1 = item['item_tax_rate'].split(' ') %}\n                                    {% set temp = list1[1] %}\n                                    {% set rate = temp[:-1]|float %}\n                                    <td width=\"8%\" align=\"right\">{{ rate }} % </td> \n                                    {% set taxed_amt = item['taxable_value'] * (rate/100) %}\n                                    <td width=\"11%\" align=\"right\"> {{ frappe.format_value(taxed_amt, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }} </td>\n                                    <td width=\"16%\" align=\"right\"> {{ frappe.format_value(item['amount'], {'fieldtype': 'Currency', 'options': 'INR'}, doc) }} </td>\n                                {% else %}\n                                    <td width=\"8%\" align=\"right\"> 0 % </td>\n                                    <td width=\"11%\" align=\"right\"> {{ frappe.format_value(item['taxable_value'], {'fieldtype': 'Currency', 'options': 'INR'}, doc) }} </td>\n                                    <td width=\"16%\" align=\"right\"> {{ frappe.format_value(item['amount'], {'fieldtype': 'Currency', 'options': 'INR'}, doc) }} </td>\n                                {% endif %}\n                                {% set vars = vars.update({'total_box': vars.total_box + item['qty']|int, 'total_amount': vars.total_amount + item['amount']|float,\n                                'last_idx': vars.last_idx + 1}) %}\n                            </tr>\n                        {% endif %}\n                    {% endfor %}\n                    {% if vars.last_idx != item_len  %}\n                        <tr>\n                            <td colspan=\"8\"><br></td>\n                        </tr>\n                        <tr>\n                            <td></td>\n                            <td></td>\n                            <td></td>\n                            <td align=\"right\" style=\"font-weight:bold;\">{{ vars.total_box|int }}</td>\n                            <td align=\"right\"></td>\n                            <td align=\"center\"></td>\n                            <td align=\"right\"></td>\n                            <td align=\"right\" style=\"font-weight:bold;\">{{ frappe.format_value(vars.total_amount, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }} </td>\n                        </tr>\n                    {% endif %}\n                    \n                    \n                    \n                    {% if vars.last_idx == item_len  %}\n                        <tr>\n                            <td colspan=\"8\"><br></td>\n                        </tr>\n                        <tr>\n                            <td colspan = \"3\" style=\"border-right:0;\" align=\"left\"><b><i>AMOUNT</i></b></td>\n                            <td style=\"border-left:0;\" align=\"right\"><b>{{ vars.total_box|int }}</b></td>\n                            <td colspan=\"3\"></td>\n                            <td align=\"right\"><b>{{ frappe.format_value(vars.total_amount, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }}</b></td>\n                        </tr>\n                        {% if doc.discount_amount > 0 %}\n                            <tr>\n                                <td colspan=\"6\">DISCOUNT (Less : )</td>\n                                <td align=\"right\">{{ \"%0.2f\" | format( doc.additional_discount_percentage|float) }}%</td>\n                                <td align=\"right\">{{ frappe.format_value(doc.discount_amount, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }}</td>\n                            </tr>\n                        {% endif %}\n                        \n                    \n                        {% for row in doc.taxes %}\n                            <tr>\n                                {% if row.description != 'Freight and Forwarding Charges' %}\n                                    <td colspan=\"7\">{{ row.description }}</td>\n                                    <!-- <td align=\"right\">{{ \"%0.2f\" | format(row.rate|float) }} %</td> -->\n                                    <td align=\"right\">{{ frappe.format_value(row.tax_amount, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }}</td>\n                                {% else %}\n \n                                    <td colspan=\"3\" style=\"border-right:0;\">{{ row.description }}</td>\n                                    <td colspan=\"2\" style=\"border-left:0; border-right-color:transparent;\">No. of cases</td>\n                                    <td align=\"right\" style=\"border-left:0;\">{{ \"%0.2f\" | format(doc.custom_number_of_carton|float) }}</td>\n                                    <td align=\"right\">{{ frappe.format_value(doc.custom_rate_per_carton, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }}</td>\n                                    <td align=\"right\">{{ frappe.format_value(row.tax_amount, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }}</td>\n\n                                {% endif %}\n                            </tr>\n                        {% endfor %}\n\n                         <tr>\n                            <td colspan=\"7\" style=\"font-weight:bold\"><i>ROUNDING ADJUSTMENT</i></td>\n                            <td align=\"right\"><b>{{ frappe.format_value(doc.rounding_adjustment, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }}</b></td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"7\" style=\"font-weight:bold\"><i>TOTAL AMOUNT</i></td>\n                            <td align=\"right\"><b>{{ frappe.format_value(doc.rounded_total, {'fieldtype': 'Currency', 'options': 'INR'}, doc) }}</b></td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"8\"><i>Rs. {{ doc.in_words[4:] }}</i></td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"8\" style=\"text-align:right; vertical-align:center\"> \n                                <div style=\"font-family: cursive; font-size: 10px; font-weight: bold;\"><b>For</b><img alt=\"M.D.MOHTA\" src=\"/files/Name.png\" style=\"height: 15px; width: 100px; filter: grayscale(100%)\"><u>Rakhi Pvt. Ltd.</u></div><br>\n                                <div style=\"font-family: cursive; font-size: 10px; font-weight: bold;\"><img alt=\"\" src=\"/files/kks_sig-removebg-preview.png\" style=\"height: 30px; width: 200px; filter: grayscale(100%)\"></div><br>\n                                <b>Director &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b>\n                            </td>\n                        </tr>\n                    </table>\n                    <table border=1 width=\"100%\" class=\"table table-bordered\" style=\"margin-top:-21px\">\n                    <tbody>\n                        <tr>\n                            <td>{{ doc.other_charges_calculation }}</td>\n                        </tr>\n                    </tbody>\n                    \n                {% endif %}\n                </table>\n                {% if doc.irn %}\n                    <table width=\"100%\" class=\"table table-bordered\" border=\"1\" style=\"margin-top:-21px\">\n                        <tr>\n                            <td rowspan=\"3\" width=\"35%\" height=\"150\"><center>\n                                {% if doc.irn %}\n                                    {% set e_invoice_log = frappe.db.get_value(\n                                     \"e-Invoice Log\", doc.irn, (\"invoice_data\", \"signed_qr_code\"), as_dict=True) %}\n                                    {%- set invoice_data = dict(json.loads(e_invoice_log.invoice_data)) -%}\n                                    <img src=\"data:image/png;base64,{{ get_qr_code(e_invoice_log.signed_qr_code, scale=2) }}\" class=\"qrcode\" height = 150 width = 150>\n                                {% endif %}\n                                </center>\n                            </td>\n                \t\t\t<th width=\"15%\" height=\"50\" align=\"left\">IRN</th>\n                \t\t\t<td width=\"50%\" height=\"50\" align=\"rleft\">{{ doc.irn }}</td>\n                \t\t</tr>\n                \t\t\n                    \t\t{% set e_invoice_log = frappe.db.get_value(\"e-Invoice Log\", doc.irn, (\"invoice_data\"), as_dict=True) %}\n                            {%- set invoice_data = _dict(json.loads(e_invoice_log.invoice_data)) -%}\n                            {%\n                        \t\tset transaction_details = {\n                        \t\t\t\"Ack. No\": invoice_data.AckNo,\n                        \t\t\t\"Ack. Date\": frappe.utils.format_datetime(\n                        \t\t\t\tinvoice_data.AckDt, \"dd/MM/yyyy hh:mm:ss\"\n                        \t\t\t),\n                        \t\t}\n                            %}\n                        \t{% for key, value in transaction_details.items() %}\n                                <tr>\n                        \t\t\t<th width=\"15%\" height=\"50\" style=\"text-align:left; vertical-align:center\">{{ key }}</td>\n                        \t\t\t<td width=\"50%\" height=\"50\" style=\"text-align:left; vertical-align:center\">{{ value }}</td>\n                        \t\t</tr>\n                        \t{% endfor %}\n                        \n                \n                \t\t<tr>\n                \t\t\t<th colspan=\"3\"><center>e-Invoicing detail(s) generated from the Goverment's e-Invoicing Sysyem.</center></th>\n                \t\t</tr>\n                \t</table>\n                {% endif %}\n                {% if vars.last_idx == item_len and not doc.irn %}\n                    \t<table width=\"100%\" style=\"margin-top:-21px; font-weight:bold\">\n                            <tr>\n                                <td>\n                                    <p>Please pay in favour of \"M.D.MOHTA RAKHI PVT.LTD.\" Through either</p>\n                                    <p>ICICI Bank Ltd.,Kolkata A/c No 694905600912 IFSC Code ICIC0006949 or</p>\n                                    <p>DBS Bank India Limited A/c No 828200135528 IFSC Code DBSS0IN0828</p>\n                                    <p>Rakhi is exempted from GST vide Notification No.19/2018 Dated 26/07/18</p>\n                                </td>\n                                <td style=\"text-align:center;\">Authorised Signatory</td>\n                            </tr>\n                            <tr>\n                                <td><p>Amendment No.02/2017 Dated 28/06/2017</p></td>\n                                <td style=\"text-align:center;\">E.& O.E.</td>\n                            </tr>\n                        </table>\n                    {% endif %}\n            {% endfor %}\n        </div>\n    {% endif %} \n\n    ",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-10-13 17:33:45.700866",
 "modified_by": "Administrator",
 "module": "Shree",
 "name": "Shree Rakhi - Corporate Invoice",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}